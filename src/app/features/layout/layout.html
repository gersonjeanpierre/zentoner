<div class="drawer lg:drawer-open min-h-screen">
  <input id="erp-drawer" type="checkbox" class="drawer-toggle" />
  <div class="drawer-content flex flex-col">
    <!-- Navbar -->
    <div class="w-full navbar bg-base-200 lg:hidden">
      <div class="flex-none">
        <label for="erp-drawer" class="btn btn-square btn-ghost drawer-button">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16"
            />
          </svg>
        </label>
      </div>
      <div class="flex-1 px-2 text-xl font-bold">ERP</div>
    </div>
    <!-- Usuario y sesión activa -->
    <div class="flex items-center gap-4 p-2 bg-base-100 border-b border-base-200">
      <div *ngIf="user()" class="flex items-center gap-2">
        <span class="font-semibold">Usuario:</span>
        <span class="badge badge-neutral">{{ user().email }}</span>
      </div>
      <div *ngIf="session()" class="flex items-center gap-2">
        <span class="font-semibold">Sesión activa:</span>
        <span class="badge badge-success">{{ session() }}</span>
      </div>
    </div>
    <!-- Main content -->
    <div class="p-4 flex-1">
      <router-outlet></router-outlet>
    </div>
  </div>
  <div class="drawer-side">
    <label for="erp-drawer" class="drawer-overlay"></label>
    <aside class="menu p-4 w-52 min-h-full bg-gray-200 text-base-content">
      <app-logo-laser-veloz class="mb-4" [fontSize]="fontSize()" />
      <nav aria-label="ERP navigation" class="text-lg font-semibold">
        <ul>
          @for (item of menuItems; track $index) {
            @if (item.name !== 'Cerrar sesión') {
              <li class="py-1">
                <a
                  [class.menu-active]="activeMenu() === item.name"
                  (click)="activeMenu.set(item.name)"
                  routerLink="{{ item.routeLink }}"
                  ><span class="{{ item.icon }} w-5"></span>
                  {{ item.name }}
                </a>
              </li>
            } @else {
              <li class="py-1">
                <a [class.menu-active]="activeMenu() === item.name" (click)="logOut()"
                  ><span class="{{ item.icon }} w-5"></span>
                  {{ item.name }}
                </a>
              </li>
            }
          }
        </ul>
      </nav>
    </aside>
  </div>
</div>
